"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[221],{9221:(C,i,s)=>{s.r(i),s.d(i,{AuthGuardService:()=>U.r,AuthService:()=>A.u,JwtInterceptor:()=>E.V,LoginComponent:()=>x.X,USERS_FEATURE_KEY:()=>o.kq,User:()=>m,UserAuthGuardService:()=>f,UsersEffects:()=>d.d,UsersFacade:()=>c.R,UsersModule:()=>v.t,UsersService:()=>h.g,buildUserSession:()=>a.Yt,buildUserSessionFailed:()=>a.nr,buildUserSessionSuccess:()=>a.td,getUser:()=>n.wz,getUserIsAuth:()=>n.mR,getUsersState:()=>n._1,initialUsersState:()=>o.Cl,reducer:()=>o.Ff,usersReducer:()=>o.NS});var c=s(1146),n=s(7420),o=s(718),a=s(3997),d=s(3428),v=s(8244),h=s(8122),U=s(4624),u=s(3953),g=s(8570),S=s(5973);let f=(()=>{class e{constructor(r,t){this.router=r,this.localStorageService=t}canActivate(r,t){const l=this.localStorageService.getToken();if(console.log("UserAuthGuard: Checking token"),l){const G=JSON.parse(atob(l.split(".")[1]));if(!this._tokenExpired(G.exp))return console.log("UserAuthGuard: Token is valid"),!0;console.log("UserAuthGuard: Token is expired")}else console.log("UserAuthGuard: No token found");return this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1}_tokenExpired(r){return Math.floor((new Date).getTime()/1e3)>=r}static#s=this.\u0275fac=function(t){return new(t||e)(u.KVO(g.Ix),u.KVO(S.s))};static#e=this.\u0275prov=u.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A=s(2636);class m{}var E=s(6043),x=s(7451)}}]);