"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[221],{9221:(G,i,s)=>{s.r(i),s.d(i,{AuthGuardService:()=>U.r,AuthService:()=>A.u,LoginComponent:()=>E.X,USERS_FEATURE_KEY:()=>o.kq,User:()=>m,UserAuthGuardService:()=>f,UsersEffects:()=>d.d,UsersFacade:()=>c.R,UsersModule:()=>v.t,UsersService:()=>h.g,buildUserSession:()=>n.Yt,buildUserSessionFailed:()=>n.nr,buildUserSessionSuccess:()=>n.td,clearUserSession:()=>n.dt,getUser:()=>a.wz,getUserIsAuth:()=>a.mR,getUsersState:()=>a._1,initialUsersState:()=>o.Cl,reducer:()=>o.Ff,usersReducer:()=>o.NS});var c=s(1146),a=s(7420),o=s(718),n=s(3997),d=s(3428),v=s(2194),h=s(8122),U=s(4624),u=s(3953),g=s(8570),S=s(5973);let f=(()=>{class e{constructor(t,r){this.router=t,this.localStorageService=r}canActivate(t,r){const l=this.localStorageService.getToken();if(console.log("UserAuthGuard: Checking token"),l){const x=JSON.parse(atob(l.split(".")[1]));if(!this._tokenExpired(x.exp))return console.log("UserAuthGuard: Token is valid"),!0;console.log("UserAuthGuard: Token is expired")}else console.log("UserAuthGuard: No token found");return this.router.navigate(["/login"],{queryParams:{returnUrl:r.url}}),!1}_tokenExpired(t){return Math.floor((new Date).getTime()/1e3)>=t}static#s=this.\u0275fac=function(r){return new(r||e)(u.KVO(g.Ix),u.KVO(S.s))};static#e=this.\u0275prov=u.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A=s(2636);class m{}var E=s(7451)}}]);